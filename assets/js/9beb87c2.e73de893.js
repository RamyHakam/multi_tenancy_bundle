"use strict";(self.webpackChunkmulti_tenancy_bundle_docs=self.webpackChunkmulti_tenancy_bundle_docs||[]).push([[539],{7428:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>t,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"changelog","title":"Changelog","description":"[Unreleased]","source":"@site/docs/changelog.md","sourceDirName":".","slug":"/changelog","permalink":"/multi_tenancy_bundle/changelog","draft":false,"unlisted":false,"editUrl":"https://github.com/RamyHakam/multi_tenancy_bundle/tree/master/docs-site/docs/changelog.md","tags":[],"version":"current","frontMatter":{"title":"Changelog"},"sidebar":"tutorialSidebar","previous":{"title":"Contributing","permalink":"/multi_tenancy_bundle/contributing/contribution"},"next":{"title":"license","permalink":"/multi_tenancy_bundle/license"}}');var l=d(4848),r=d(8453);const s={title:"Changelog"},a=void 0,t={},c=[{value:"[Unreleased]",id:"unreleased",level:2},{value:"Changed",id:"changed",level:3},{value:"[2.9.0] \u2013 20 Sep 2025",id:"290--20-sep-2025",level:2},{value:"\u26a0\ufe0f <strong>BREAKING CHANGES</strong>",id:"\ufe0f-breaking-changes",level:3},{value:"Fixed",id:"fixed",level:3},{value:"Added",id:"added",level:3},{value:"Improved",id:"improved",level:3},{value:"Migration Guide v2.8.x \u2192 v2.9.0",id:"migration-guide-v28x--v290",level:3},{value:"Deprecated",id:"deprecated",level:3},{value:"[2.8.3] \u2013 18 Jun 2025",id:"283--18-jun-2025",level:2},{value:"Added",id:"added-1",level:3},{value:"Changed",id:"changed-1",level:3},{value:"[2.8.2] \u2013 03 Aug 2024",id:"282--03-aug-2024",level:2},{value:"Added",id:"added-2",level:3},{value:"Changed",id:"changed-2",level:3},{value:"[2.8.1] \u2013 27 Jul 2024",id:"281--27-jul-2024",level:2},{value:"Fixed",id:"fixed-1",level:3},{value:"[2.8.0] \u2013 28 Jun 2024",id:"280--28-jun-2024",level:2},{value:"Added",id:"added-3",level:3},{value:"Notes",id:"notes",level:4},{value:"[2.7.1] \u2013 05 Jun 2024",id:"271--05-jun-2024",level:2},{value:"Fixed",id:"fixed-2",level:3},{value:"[2.7.0] \u2013 02 May 2024",id:"270--02-may-2024",level:2},{value:"Added",id:"added-4",level:3},{value:"Contributors",id:"contributors",level:3},{value:"[2.6.0] \u2013 26 Feb 2024",id:"260--26-feb-2024",level:2},{value:"Added",id:"added-5",level:3},{value:"[2.5.4] \u2013 30 Nov 2023",id:"254--30-nov-2023",level:2},{value:"Added",id:"added-6",level:3},{value:"[2.5.3] \u2013 29 Nov 2023",id:"253--29-nov-2023",level:2},{value:"Added",id:"added-7",level:3},{value:"[2.5.2] \u2013 01 Sep 2023",id:"252--01-sep-2023",level:2},{value:"Added",id:"added-8",level:3},{value:"[2.5.1] \u2013 10 Jun 2023",id:"251--10-jun-2023",level:2},{value:"Added",id:"added-9",level:3},{value:"[2.5.0] \u2013 23 May 2023",id:"250--23-may-2023",level:2},{value:"Added",id:"added-10",level:3},{value:"[2.0.1] \u2013 11 May 2023",id:"201--11-may-2023",level:2},{value:"Fixed",id:"fixed-3",level:3},{value:"[2.0.0] \u2013 24 Apr 2023",id:"200--24-apr-2023",level:2},{value:"Added",id:"added-11",level:3},{value:"[1.0.3] \u2013 21 Mar 2023",id:"103--21-mar-2023",level:2},{value:"Fixed",id:"fixed-4",level:3},{value:"[1.0.2] \u2013 11 Sep 2022",id:"102--11-sep-2022",level:2},{value:"Added",id:"added-12",level:3},{value:"[1.0.0] \u2013 28 May 2022",id:"100--28-may-2022",level:2},{value:"Added",id:"added-13",level:3},{value:"[0.2] \u2013 08 Apr 2022",id:"02--08-apr-2022",level:2},{value:"Added",id:"added-14",level:3}];function o(e){const n={code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"unreleased",children:"[Unreleased]"}),"\n",(0,l.jsx)(n.h3,{id:"changed",children:"Changed"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Preparation for upcoming v3.0.0 with major architectural improvements"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"290--20-sep-2025",children:"[2.9.0] \u2013 20 Sep 2025"}),"\n",(0,l.jsxs)(n.h3,{id:"\ufe0f-breaking-changes",children:["\u26a0\ufe0f ",(0,l.jsx)(n.strong,{children:"BREAKING CHANGES"})]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"NEW REQUIRED METHOD"}),": Added ",(0,l.jsx)(n.code,{children:"getIdentifierValue(): mixed"})," method to ",(0,l.jsx)(n.code,{children:"TenantDbConfigurationInterface"})," - ",(0,l.jsx)(n.strong,{children:"ALL IMPLEMENTING CLASSES MUST BE UPDATED"})]}),"\n",(0,l.jsxs)(n.li,{children:["Migration commands now properly respect configured ",(0,l.jsx)(n.code,{children:"tenant_database_identifier"})," field instead of hardcoding ",(0,l.jsx)(n.code,{children:"getId()"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"fixed",children:"Fixed"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Issue #64"}),": Fixed critical migration command identifier bug where ",(0,l.jsx)(n.code,{children:"DoctrineTenantDatabaseManager::convertToDTO()"})," was hardcoding ",(0,l.jsx)(n.code,{children:"getId()"})," instead of using the configured identifier field"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Issue #63"}),": Fixed missing ",(0,l.jsx)(n.code,{children:"--dbid"})," and ",(0,l.jsx)(n.code,{children:"--all"})," options in ",(0,l.jsx)(n.code,{children:"tenant:database:create"})," command"]}),"\n",(0,l.jsxs)(n.li,{children:["Fixed ",(0,l.jsx)(n.code,{children:"TenantConnectionConfigDTO"})," to accept mixed-type identifiers (strings, integers, etc.)"]}),"\n",(0,l.jsx)(n.li,{children:"Fixed database switching isolation and Doctrine cache clearing"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"added",children:"Added"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"NEW INTERFACE METHOD"}),": ",(0,l.jsx)(n.code,{children:"getIdentifierValue(): mixed"})," in ",(0,l.jsx)(n.code,{children:"TenantDbConfigurationInterface"})," for explicit tenant identifier handling"]}),"\n",(0,l.jsxs)(n.li,{children:["New ",(0,l.jsx)(n.code,{children:"getTenantDatabaseById()"})," method in ",(0,l.jsx)(n.code,{children:"TenantDatabaseManagerInterface"})]}),"\n",(0,l.jsx)(n.li,{children:"Enhanced test coverage for identifier resolution and database management"}),"\n",(0,l.jsxs)(n.li,{children:["Improved package distribution with clean ",(0,l.jsx)(n.code,{children:".gitattributes"})," excluding development files"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"improved",children:"Improved"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Performance"}),": Enhanced database connection switching with proper Doctrine cache clearing"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Architecture"}),": More robust tenant identifier handling supporting mixed types"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"DX"}),": Better error handling and validation in migration commands"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Distribution"}),": Cleaner Composer package installation (60% smaller for production)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Testing"}),": Enhanced integration testing capabilities"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"migration-guide-v28x--v290",children:"Migration Guide v2.8.x \u2192 v2.9.0"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"REQUIRED"}),": Update your tenant entity to implement the new ",(0,l.jsx)(n.code,{children:"getIdentifierValue()"})," method:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"class TenantDb implements TenantDbConfigurationInterface\n{\n    // ... existing properties and methods ...\n    \n    public function getIdentifierValue(): mixed\n    {\n        // For default 'id' field:\n        return $this->getId();\n        \n        // For custom identifier (e.g., 'tenant_code'):\n        return $this->getTenantCode();\n    }\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"deprecated",children:"Deprecated"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The ",(0,l.jsx)(n.code,{children:"--dbId"})," argument in migration commands is deprecated and will be removed in v3.0"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"283--18-jun-2025",children:"[2.8.3] \u2013 18 Jun 2025"}),"\n",(0,l.jsx)(n.h3,{id:"added-1",children:"Added"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"php bin/console tenant:fixtures:load"})," command for tenant-specific fixtures"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"#[TenantFixture]"})," attribute to mark and load only tenant fixtures"]}),"\n",(0,l.jsxs)(n.li,{children:["Full option support (",(0,l.jsx)(n.code,{children:"--append"}),", ",(0,l.jsx)(n.code,{children:"--group"}),", ",(0,l.jsx)(n.code,{children:"--purge-with-truncate"}),", ",(0,l.jsx)(n.code,{children:"--dbid"}),") and fixture dependency handling"]}),"\n",(0,l.jsxs)(n.li,{children:["Dynamic targeting of specific tenants with ",(0,l.jsx)(n.code,{children:"--dbid"})," flag"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"changed-1",children:"Changed"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Fixed deprecations by @NikoGrano in #55"}),"\n",(0,l.jsxs)(n.li,{children:["Corrected migration command from ",(0,l.jsx)(n.code,{children:"migrate"})," to ",(0,l.jsx)(n.code,{children:"update"})," by @joosee7 in #54"]}),"\n",(0,l.jsx)(n.li,{children:"Updated README.md by @skarnl in #49"}),"\n",(0,l.jsx)(n.li,{children:"Added Tenant Fixture commands by @RamyHakam in #56"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"282--03-aug-2024",children:"[2.8.2] \u2013 03 Aug 2024"}),"\n",(0,l.jsx)(n.h3,{id:"added-2",children:"Added"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Bulk migrations: execute migrations across all tenant DBs with one command"}),"\n",(0,l.jsx)(n.li,{children:"Enhanced per-tenant host, username & password configuration"}),"\n",(0,l.jsx)(n.li,{children:"Support for different database drivers per tenant, independent of the main DB driver"}),"\n",(0,l.jsx)(n.li,{children:"Extended Doctrine commands for tenant DB automation"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"changed-2",children:"Changed"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Implemented bulk create & migrate commands by @RamyHakam in #47"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"281--27-jul-2024",children:"[2.8.1] \u2013 27 Jul 2024"}),"\n",(0,l.jsx)(n.h3,{id:"fixed-1",children:"Fixed"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Wrong directory-existence check when creating migrations/fixtures"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"280--28-jun-2024",children:"[2.8.0] \u2013 28 Jun 2024"}),"\n",(0,l.jsx)(n.h3,{id:"added-3",children:"Added"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Multiple-host support for tenant DBs, with IP-based resolution and Docker compatibility"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"notes",children:"Notes"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Tenant schema must share the same driver across all hosts"}),"\n",(0,l.jsxs)(n.li,{children:["In Docker, prefer ",(0,l.jsx)(n.code,{children:"docker.host.internal"})," or explicit IPs over ",(0,l.jsx)(n.code,{children:"localhost"})]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"271--05-jun-2024",children:"[2.7.1] \u2013 05 Jun 2024"}),"\n",(0,l.jsx)(n.h3,{id:"fixed-2",children:"Fixed"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"PostgreSQL driver resolution issue (PR #38 by @JensMyParcel)"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"270--02-may-2024",children:"[2.7.0] \u2013 02 May 2024"}),"\n",(0,l.jsx)(n.h3,{id:"added-4",children:"Added"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Support for Doctrine DBAL 3.8 and 4.0, including:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"README updates by @dfranco in #34"}),"\n",(0,l.jsx)(n.li,{children:"URL-connection-parameter adjustment for DBAL 3.6 by @RamyHakam in #32"}),"\n",(0,l.jsx)(n.li,{children:"SchemaCommand updates by @mogilvie in #33"}),"\n",(0,l.jsx)(n.li,{children:"Deprecation handling for DBAL 4 by @RamyHakam in #36"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"contributors",children:"Contributors"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"@dfranco (first-time)"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"260--26-feb-2024",children:"[2.6.0] \u2013 26 Feb 2024"}),"\n",(0,l.jsx)(n.h3,{id:"added-5",children:"Added"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Support for Symfony 7 and 6.4; dropped deprecated 6.1 & 6.3"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"254--30-nov-2023",children:"[2.5.4] \u2013 30 Nov 2023"}),"\n",(0,l.jsx)(n.h3,{id:"added-6",children:"Added"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Custom DQL functions via TenantEntityManager configuration"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"253--29-nov-2023",children:"[2.5.3] \u2013 29 Nov 2023"}),"\n",(0,l.jsx)(n.h3,{id:"added-7",children:"Added"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Two new methods in ",(0,l.jsx)(n.code,{children:"TenantDbConfigurationInterface"})," to fix issue #26"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"252--01-sep-2023",children:"[2.5.2] \u2013 01 Sep 2023"}),"\n",(0,l.jsx)(n.h3,{id:"added-8",children:"Added"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Underscore-number-aware naming strategy for tenant EM via config"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"251--10-jun-2023",children:"[2.5.1] \u2013 10 Jun 2023"}),"\n",(0,l.jsx)(n.h3,{id:"added-9",children:"Added"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Support for PostgreSQL; PHP 8.2; on-the-fly tenant DB creation & migrations; ",(0,l.jsx)(n.code,{children:"TimestampTrait"}),"; Doctrine annotation upgrades"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"250--23-may-2023",children:"[2.5.0] \u2013 23 May 2023"}),"\n",(0,l.jsx)(n.h3,{id:"added-10",children:"Added"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"tenant:database:create"})," command to provision a new tenant DB with ",(0,l.jsx)(n.code,{children:"--dbid"})," and ",(0,l.jsx)(n.code,{children:"--all"})," options"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"201--11-may-2023",children:"[2.0.1] \u2013 11 May 2023"}),"\n",(0,l.jsx)(n.h3,{id:"fixed-3",children:"Fixed"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"GitHub Actions build; fixed issues #11 & #13; auto-create missing directories; added CI status badge"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"200--24-apr-2023",children:"[2.0.0] \u2013 24 Apr 2023"}),"\n",(0,l.jsx)(n.h3,{id:"added-11",children:"Added"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"On-the-fly tenant DB creation & preparation; Symfony 6 & PHP 8 support"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"103--21-mar-2023",children:"[1.0.3] \u2013 21 Mar 2023"}),"\n",(0,l.jsx)(n.h3,{id:"fixed-4",children:"Fixed"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Missing config issues #4 & #8"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"102--11-sep-2022",children:"[1.0.2] \u2013 11 Sep 2022"}),"\n",(0,l.jsx)(n.h3,{id:"added-12",children:"Added"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Support for PHP 8, PHP 8.1, Symfony 5.4"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"100--28-may-2022",children:"[1.0.0] \u2013 28 May 2022"}),"\n",(0,l.jsx)(n.h3,{id:"added-13",children:"Added"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Upgrade to PHP 7.4; ",(0,l.jsx)(n.code,{children:"DbConfigTrait"}),"; custom migration paths; various bug fixes"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"02--08-apr-2022",children:"[0.2] \u2013 08 Apr 2022"}),"\n",(0,l.jsx)(n.h3,{id:"added-14",children:"Added"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Initial release"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},8453:(e,n,d)=>{d.d(n,{R:()=>s,x:()=>a});var i=d(6540);const l={},r=i.createContext(l);function s(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);